---

id: intro  
title: '前行之路'  
sidebar_position: 2
---  

当我们大约两年前首次设计 Cornerstone3D 的分割架构时，我们做出了看似自然的选择：将分割视为绑定到工具组的工具。这一架构为我们提供了良好的支持，推动了无数医学影像应用的发展。正如我们所知，这一架构曾经是有效的。但随着我们在医学影像可视化领域不断扩展可能性的边界，我们开始遇到无法忽视的限制。

正如我们所意识到的，分割不仅仅是工具——它们是核心数据结构，理应作为我们的可视化管道中的第一类公民来对待。虽然以工具组为中心的方式优雅且简单，但它开始限制我们创新的能力。支持先进的用例——例如表面体积渲染、在不同视口中显示同一分割的多个表示、提供视口特定的自定义设置，甚至只是隐藏 MPR 布局中的分割——这一切都受到旧模型的限制。

在摆脱这一模型后，我们意识到我们还可以简化整个体素数据的处理方式。于是，我们引入了 VoxelManager：这对内存效率和数据清晰度来说是一次革命性变化。与笨重且占用内存的标量数据数组不同，VoxelManager 采用了更智能、基于图像的方法来管理堆栈和体积的体素数据。现在，不再是分散的数据访问图像和体积，而是拥有一个真实的数据源——它不仅减少了内存占用，还让一切变得更加流畅和直观。

借助新的视口中心架构，我们开启了以往无法打开的门——从复杂的轮廓 + 标签图 + 表面渲染，到细粒度的、视口特定的分割外观控制。而现在，得益于 VoxelManager，我们可以更好地处理复杂数据，提供用户所需的精度和效率。

本迁移指南将带您了解这些变化，不仅展示如何更新您的代码，还会教您如何利用这一架构带来的新功能。前进的道路可能需要一些适应，但它通向一个更强大、更灵活且更易维护的系统。

最终，我们选择了进步，而非便利——因为这条路并不总是最轻松的，但它是唯一能推动我们前行的道路。

<div style={{ textAlign: 'right' }}>  
  <i>  
    Alireza Sedghi, PhD<br/>  
    2024年10月  
  </i>  
</div>  

---